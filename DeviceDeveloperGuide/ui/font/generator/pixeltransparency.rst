Pixel Transparency
==================

As mentioned above, each pixel of each character in an ``.ejf`` file has
one of 256 different gray-scale values. However RAW files can have 1, 2,
4 or 8 bits-per-pixel (respectively 2, 4, 16 or 256 gray-scale values).
The required pixel depth is defined in the configuration file (see next
chapter). The Font Generator compresses the input pixels to the required
depth.

The following tables illustrates the conversion "grayscale to
transparency level". The grayscale value '0x00' is black whereas value
'0xff' is white. The transparency level '0x0' is fully transparent
whereas level '0x1' (bpp == 1), '0x3' (bpp == 2) or '0xf' (bpp == 4) is
fully opaque.

.. table:: Font 1-BPP RAW Conversion

   +-----------------------------------+-----------------------------------+
   | Grayscale Ranges                  | Transparency Levels               |
   +===================================+===================================+
   | 0x00 to 0x7f                      | 0x1                               |
   +-----------------------------------+-----------------------------------+
   | 0x80 to 0xff                      | 0x0                               |
   +-----------------------------------+-----------------------------------+

.. table:: Font 2-BPP RAW Conversion

   +-----------------------------------+-----------------------------------+
   | Grayscale Ranges                  | Transparency Levels               |
   +===================================+===================================+
   | 0x00 to 0x1f                      | 0x3                               |
   +-----------------------------------+-----------------------------------+
   | 0x20 to 0x7f                      | 0x2                               |
   +-----------------------------------+-----------------------------------+
   | 0x80 to 0xdf                      | 0x1                               |
   +-----------------------------------+-----------------------------------+
   | 0xe0 to 0xff                      | 0x0                               |
   +-----------------------------------+-----------------------------------+

.. table:: Font 4-BPP RAW Conversion

   +-----------------------------------+-----------------------------------+
   | Grayscale Ranges                  | Transparency Levels               |
   +===================================+===================================+
   | 0x00 to 0x07                      | 0xf                               |
   +-----------------------------------+-----------------------------------+
   | 0x08 to 0x18                      | 0xe                               |
   +-----------------------------------+-----------------------------------+
   | 0x19 to 0x29                      | 0xd                               |
   +-----------------------------------+-----------------------------------+
   | 0x2a to 0x3a                      | 0xc                               |
   +-----------------------------------+-----------------------------------+
   | 0x3b to 0x4b                      | 0xb                               |
   +-----------------------------------+-----------------------------------+
   | 0x4c to 0x5c                      | 0xa                               |
   +-----------------------------------+-----------------------------------+
   | 0x5d to 0x6d                      | 0x9                               |
   +-----------------------------------+-----------------------------------+
   | 0x6e to 0x7e                      | 0x8                               |
   +-----------------------------------+-----------------------------------+
   | 0x7f to 0x8f                      | 0x7                               |
   +-----------------------------------+-----------------------------------+
   | 0x90 to 0xa0                      | 0x6                               |
   +-----------------------------------+-----------------------------------+
   | 0xa1 to 0xb1                      | 0x5                               |
   +-----------------------------------+-----------------------------------+
   | 0xb2 to 0xc2                      | 0x4                               |
   +-----------------------------------+-----------------------------------+
   | 0xc3 to 0xd3                      | 0x3                               |
   +-----------------------------------+-----------------------------------+
   | 0xd4 to 0xe4                      | 0x2                               |
   +-----------------------------------+-----------------------------------+
   | 0xe5 to 0xf5                      | 0x1                               |
   +-----------------------------------+-----------------------------------+
   | 0xf6 to 0xff                      | 0x0                               |
   +-----------------------------------+-----------------------------------+

For 8-BPP RAW font, a transparency level is equal to
``255 - grayscale value``.
