<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="715px" preserveAspectRatio="none" style="width:886px;height:715px;" version="1.1" viewBox="0 0 886 715" width="886px" zoomAndPan="magnify"><defs><filter height="300%" id="f1obd4praw28l4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="93.5625"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="182.9609"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="268.2266"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="415.8906"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="59.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="590.6875"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="59.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="529" y="561.5547"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="814" y="268.2266"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="814" y="415.8906"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="611.5" x="13" y="55.2969"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="218.9297" style="stroke: #000000; stroke-width: 2.0;" width="742.5" x="133" y="144.6953"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="280.1953" style="stroke: #000000; stroke-width: 2.0;" width="862.5" x="13" y="377.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="78" x2="78" y1="38.2969" y2="674.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="192" x2="192" y1="38.2969" y2="674.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="332.5" x2="332.5" y1="38.2969" y2="674.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="533.5" x2="533.5" y1="38.2969" y2="674.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="699.5" x2="699.5" y1="38.2969" y2="674.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="818.5" x2="818.5" y1="38.2969" y2="674.8203"/><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="30" y="22.9951">Hotplug:Task</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="23" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="30" y="693.8154">Hotplug:Task</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="143" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="150" y="22.9951">Connection</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="143" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="150" y="693.8154">Connection</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="257.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="264.5" y="22.9951">ECOM Comm Stack</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="257.5" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="264.5" y="693.8154">ECOM Comm Stack</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="453.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="460.5" y="22.9951">Comm Pump:Thread</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="453.5" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="460.5" y="693.8154">Comm Pump:Thread</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="637.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="644.5" y="22.9951">DeviceManager</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="637.5" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="644.5" y="693.8154">DeviceManager</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="772.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="779.5" y="22.9951">Application</text><rect fill="#FEFECE" filter="url(#f1obd4praw28l4)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="772.5" y="673.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="779.5" y="693.8154">Application</text><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="93.5625"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="182.9609"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="268.2266"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="415.8906"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="59.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="590.6875"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="59.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="529" y="561.5547"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="814" y="268.2266"/><rect fill="#FFFFFF" filter="url(#f1obd4praw28l4)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="814" y="415.8906"/><path d="M13,55.2969 L87,55.2969 L87,62.2969 L77,72.2969 L13,72.2969 L13,55.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="611.5" x="13" y="55.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="68.3638">add</text><polygon fill="#A80036" points="316,89.5625,326,93.5625,316,97.5625,320,93.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78" x2="322" y1="93.5625" y2="93.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85" y="88.4966">add connection</text><polygon fill="#A80036" points="522,118.6953,532,122.6953,522,126.6953,526,122.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="333" x2="528" y1="122.6953" y2="122.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="340" y="117.6294">notify Connection added</text><path d="M133,144.6953 L204,144.6953 L204,151.6953 L194,161.6953 L133,161.6953 L133,144.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="218.9297" style="stroke: #000000; stroke-width: 2.0;" width="742.5" x="133" y="144.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="148" y="157.7622">use</text><polygon fill="#A80036" points="349,178.9609,339,182.9609,349,186.9609,345,182.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="818" y1="182.9609" y2="182.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="355" y="177.895">open()</text><polygon fill="#A80036" points="203,208.0938,193,212.0938,203,216.0938,199,212.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="197" x2="332" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="209" y="207.0278">configureDevice()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="192" x2="234" y1="226.0938" y2="226.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234" x2="234" y1="226.0938" y2="239.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="193" x2="234" y1="239.0938" y2="239.0938"/><polygon fill="#A80036" points="203,235.0938,193,239.0938,203,243.0938,199,239.0938" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="349,264.2266,339,268.2266,349,272.2266,345,268.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="813" y1="268.2266" y2="268.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="355" y="263.1606">read()</text><polygon fill="#A80036" points="316,293.3594,326,297.3594,316,301.3594,320,297.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="192" x2="322" y1="297.3594" y2="297.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="199" y="292.2935">dataReceived()</text><polygon fill="#A80036" points="807,322.4922,817,326.4922,807,330.4922,811,326.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="333" x2="813" y1="326.4922" y2="326.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="340" y="321.4263">returned byte</text><polygon fill="#A80036" points="688,351.625,698,355.625,688,359.625,692,355.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="534" x2="694" y1="355.625" y2="355.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="541" y="350.5591">register Comm Port</text><path d="M13,377.625 L113,377.625 L113,384.625 L103,394.625 L13,394.625 L13,377.625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="280.1953" style="stroke: #000000; stroke-width: 2.0;" width="862.5" x="13" y="377.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="28" y="390.6919">remove</text><polygon fill="#A80036" points="349,411.8906,339,415.8906,349,419.8906,345,415.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="813" y1="415.8906" y2="415.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="355" y="410.8247">read()</text><polygon fill="#A80036" points="316,441.0234,326,445.0234,316,449.0234,320,445.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78" x2="322" y1="445.0234" y2="445.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="85" y="439.9575">remove Connection</text><polygon fill="#A80036" points="802,470.1563,812,474.1563,802,478.1563,806,474.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="338" x2="808" y1="474.1563" y2="474.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="345" y="469.0903">java.io.IOException</text><polygon fill="#A80036" points="522,499.2891,532,503.2891,522,507.2891,526,503.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="333" x2="528" y1="503.2891" y2="503.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="340" y="498.2231">notify Connection removed</text><polygon fill="#A80036" points="344,528.4219,334,532.4219,344,536.4219,340,532.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="338" x2="818" y1="532.4219" y2="532.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="350" y="527.356">close()</text><polygon fill="#A80036" points="688,557.5547,698,561.5547,688,565.5547,692,561.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="539" x2="694" y1="561.5547" y2="561.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="546" y="556.4888">unregister Comm Port</text><polygon fill="#A80036" points="349,586.6875,339,590.6875,349,594.6875,345,590.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="528" y1="590.6875" y2="590.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="355" y="585.6216">Comm Port unregistered</text><polygon fill="#A80036" points="203,645.8203,193,649.8203,203,653.8203,199,649.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="197" x2="332" y1="649.8203" y2="649.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="209" y="644.7544">released()</text><!--MD5=[9b6c78c41506954c16f68172a244b946]
@startuml
participant "Hotplug:Task" as task
participant Connection as co
participant "ECOM Comm Stack" as stack
participant "Comm Pump:Thread" as thread
participant "DeviceManager" as dm
participant Application as app

group add
    task -> stack : add connection
    activate stack
    stack -> thread : notify Connection added
    deactivate stack
end

group use
    app -> stack : open()
    activate stack
    stack -> co : configureDevice()
    deactivate stack
    co -> co
    
    app -> stack : read()
    activate app
    activate stack
    co -> stack : dataReceived()
    stack - -> app : returned byte
    deactivate stack
    deactivate app
    thread -> dm : register Comm Port
end

group remove
    app -> stack : read()
    activate app
    activate stack
    task -> stack : remove Connection
    stack - -> app : java.io.IOException
    stack -> thread : notify Connection removed
    deactivate stack
    app -> stack : close()
    deactivate app
    
    thread -> dm : unregister Comm Port
    activate thread
    thread -> stack : Comm Port unregistered
    activate stack
    deactivate thread
    stack -> co : released()
    deactivate stack
end
@enduml

PlantUML version 1.2020.03beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>